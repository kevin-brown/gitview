{% extends "repositories/base.html" %}

{% block repository-contents %}
{% block navigation-row %}
<div class="row repsitory-navigation-row">
    <div class="col-lg-12">
        {% block tree-dropdown %}
        <div class="btn-group">
            <button type="button"
                    class="btn btn-default btn-sm dropdown-toggle"
                    data-toggle="dropdown">
                <span class="branch-label">
                    tree:
                </span>
                {{ current_tree_name }}
                <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" role="menu">
                {% for branch in git_repository.branches %}
                {% block tree-dropdown-option %}
                <li>
                    <a href="{% url "repos:tree_index" repository.owner.username repository.name branch.name %}">
                        {{ branch.name }}
                    </a>
                </li>
                {% endblock %}
                {% endfor %}
            </ul>
        </div>
        {% endblock %}

        {% if not breadcrumbs %}
        {% block breadcrumbs %}
        <ul class="breadcrumbs">
            <li>
                <a href="{% url "repos:index" repository.owner.username repository.name %}">
                    {{ repository.name }}
                </a>
            </li>
        </ul>
        {% endblock %}
        {% endif %}
    </div>
</div>
{% endblock %}

{% if commit %}
{% block commit %}
<div class="row">
    <div class="col-lg-12">
        <div class="panel panel-info">
            {% block commit-data %}
            <div class="panel-heading">
                <a title="{{ commit.summary }}"
                   href="{% url "repos:commit" repository.owner.username repository.name commit.hexsha %}">
                    {{ commit.summary }}
                </a>
            </div>
            <div class="panel-body">
                {{ commit.author }}
                authored
                <time class="js-relative-time"
                      datetime="{{ commit.committed_time | date:"c" }}">
                    {{ commit.committed_time }}
                </time>
            </div>
            {% endblock %}
        </div>
    </div>
</div>
{% endblock %}
{% endif %}

{% block files-contents %}{% endblock %}
{% endblock %}
