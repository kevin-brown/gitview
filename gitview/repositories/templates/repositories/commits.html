{% extends "repositories/files_base.html" %}

{% block css %}
{{ block.super }}
<style type="text/css">
.commit-panel-body {
padding-bottom: 0;
}
.commit {
border: 1px solid black;
margin-bottom: 15px;
padding: 6px;
}
.commit-summary-more {
background-color: lightgrey;
color: black;
display: inline-block;
font-size: 12px;
font-weight: bold;
height: 12px;
line-height: 6px;
padding: 0 4px;
text-decoration: none;
vertical-align: middle;
}
.commit-summary-more:hover {
background-color: darkgrey;
color: black;
cursor: pointer;
text-decoration: none;
}
.commit-message {
display: none;
}

.commit-open .commit-message {
display: block;
}
</style>
{% endblock %}

{% block js %}
{{ block.super }}
<script type="text/javascript">
$(document).on("click", ".commit-summary-more", function () {
$this = $(this);

$commit = $this.parents(".commit");

$commit.toggleClass("commit-open");
});
</script>
{% endblock %}

{% block tree-dropdown-option %}
<li>
    <a href="{% url "repos:commits_list_tree" repository.owner.username repository.name branch.name %}">
        {{ branch.name }}
    </a>
</li>
{% endblock %}

{% block content %}
<div ng-view></div>
{% endblock %}
